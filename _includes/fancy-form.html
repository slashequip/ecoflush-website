<section id="fancyForm" class="bg-grey-lighter">
    <div class="container mx-auto relative">
        <a href="#" v-cloak class="fancy-form-back rounded flex items-center justify-center absolute pin-l pin-t mt-4" @click="prev" v-if="section > 1">
            Back
        </a>

        <div class="fancy-form-section" v-if="section === 1">
            <div class="flex flex-wrap items-center">
                <h2 class="fancy-form-title">Request A Quote</h2>
                <p class="w-full mb-2">
                    <a href="#" class="inline-block py-2 px-8 no-underline uppercase font-bold text-lg rounded bg-brand-green text-white" @click.prevent="next">START</a>
                </p>
                <p class="text-xs font-light text-center w-full mb-8">we just need you to answer a few questions</p>
            </div>
        </div>

        <div v-if="section === 2" class="fancy-form-section" v-cloak>
            <h2 class="fancy-form-title">Do you have a Combi Boiler?</h2>
            <div class="fancy-form-boxes">
                <div class="fancy-form-box" :class="{ active: (form.boiler_type === 'combi') }" @click="setBoilerType('combi')">
                    <p>Yes</p>
                </div>

                <div class="fancy-form-box" :class="{ active: (form.boiler_type === 'non combi') }" @click="setBoilerType('non combi')">
                    <p>No</p>
                </div>
            </div>
        </div>

        <div v-if="section === 3" class="fancy-form-section" v-cloak>
            <h2 class="fancy-form-title">
                How old is your boiler?
            </h2>
            <div class="fancy-form-boxes">
                <div class="fancy-form-box" :class="{ active: (form.age === '0 - 5') }" @click="setBoilerAge('0 - 5')">
                    <p>0 - 5 Years</p>
                </div>

                <div class="fancy-form-box" :class="{ active: (form.age === '5 - 10') }" @click="setBoilerAge('5 - 10')">
                    <p>5 - 10 Years</p>
                </div>

                <div class="fancy-form-box" :class="{ active: (form.age === '10+') }" @click="setBoilerAge('10+')">
                    <p>10+ Years</p>
                </div>
            </div>
        </div>

        <div v-if="section === 4" class="fancy-form-section" v-cloak>
            <h2 class="fancy-form-title">Have you noticed dirty water, whilst bleeding radiators?</h2>
            <div class="fancy-form-boxes">
                <div class="fancy-form-box" :class="{ active: (form.dirty_water === true) }" @click="setDirtyWater(true)">
                    <p>Yes</p>
                </div>

                <div class="fancy-form-box" :class="{ active: (form.dirty_water === false) }" @click="setDirtyWater(false)">
                    <p>No</p>
                </div>
            </div>
        </div>

        <div v-if="section === 5" class="fancy-form-section" v-cloak>
            <h2 class="fancy-form-title">Do you have cold spots on your radiator?</h2>
            <div class="fancy-form-boxes">
                <div class="fancy-form-box" :class="{ active: (form.cold_spots === true) }" @click="setColdSpots(true)">
                    <p>Yes</p>
                </div>

                <div class="fancy-form-box" :class="{ active: (form.cold_spots === false) }" @click="setColdSpots(false)">
                    <p>No</p>
                </div>
            </div>
        </div>

        <div v-if="section === 6" class="fancy-form-section" v-cloak>
            <h2 class="fancy-form-title">Has your system been flushed before?</h2>
            <div class="fancy-form-boxes">
                <div class="fancy-form-box" :class="{ active: (form.flushed_before === true) }" @click="setFlushedBefore(true)">
                    <p>Yes</p>
                </div>

                <div class="fancy-form-box" :class="{ active: (form.flushed_before === false) }" @click="setFlushedBefore(false)">
                    <p>No</p>
                </div>
            </div>
        </div>

        <div v-if="section === 7" class="fancy-form-section" v-cloak>
            <h2 class="fancy-form-title">Does your system have a magnetic filter?</h2>
            <div class="fancy-form-boxes">
                <div class="fancy-form-box" :class="{ active: (form.filter === true) }" @click="setFilter(true)">
                    <p>Yes</p>
                </div>

                <div class="fancy-form-box" :class="{ active: (form.filter === false) }" @click="setFilter(false)">
                    <p>No</p>
                </div>
            </div>
        </div>

        <div v-if="section === 8" class="fancy-form-section" v-cloak>
            <h2 class="fancy-form-title">Do you have an outside tap we can use?</h2>
            <div class="fancy-form-boxes">
                <div class="fancy-form-box" :class="{ active: (form.tap === true) }" @click="setTap(true)">
                    <p>Yes</p>
                </div>

                <div class="fancy-form-box" :class="{ active: (form.tap === false) }" @click="setTap(false)">
                    <p>No</p>
                </div>
            </div>
        </div>

        <div v-if="section === 9" class="fancy-form-section" v-cloak>
            <h2 class="fancy-form-title">
                How many radiators do you have?
            </h2>
            <div class="fancy-form-boxes">
                <div class="fancy-form-box" :class="{ active: (form.rad_count === '1 - 7') }" @click="setRadCount('1 - 7')">
                    <p>1 - 7</p>
                </div>

                <div class="fancy-form-box" :class="{ active: (form.rad_count === '7 - 11') }" @click="setRadCount('7 - 11')">
                    <p>7 - 11</p>
                </div>

                <div class="fancy-form-box" :class="{ active: (form.rad_count === '12+') }" @click="setRadCount('12+')">
                    <p>12+</p>
                </div>
            </div>
        </div>

        <div v-if="section === 10" class="fancy-form-section" v-cloak>
                <h2 class="fancy-form-title">
                    Final Details
                </h2>

                <div class="max-w-md mx-auto px-4 sm:px-0">
                    <p class="mb-2 text-lg uppercase"><strong>Confirmation</strong></p>
                    <div v-html="summary" class="leading-normal mb-8"></div>
                </div>

                <form method="POST" action="https://formspree.io/ecoflushuk@gmail.com">
                    <div class="flex flex-wrap md:flex-no-wrap max-w-lg mx-auto mb-8 px-4 sm:px-0">
                        <div class="w-full md:w-auto md:flex-1 md:mr-2 mb-4 md:mb-0">
                            <label class="block text-xs uppercase mb-1 text-left">Name</label>
                            <input type="text" name="name" v-model="form.name" autocomplete="name" required class="leading-loose shadow block px-2 py-1 w-full">
                        </div>
                        <div class="w-full md:w-auto md:flex-1 md:mx-2 mb-4 md:mb-0">
                            <label class="block text-xs uppercase mb-1 text-left">Postcode</label>
                            <input type="text" name="postcode" v-model="form.postcode" autocomplete="postcode" required class="leading-loose shadow block px-2 py-1 w-full">
                        </div>
                        <div class="w-full md:w-auto md:flex-1 md:mx-2 mb-4 md:mb-0">
                            <label class="block text-xs uppercase mb-1 text-left">Email</label>
                            <input type="email" name="email" v-model="form.email" autocomplete="email" required class="leading-loose shadow block px-2 py-1 w-full">
                        </div>
                        <div class="w-full md:w-auto md:flex-1 md:ml-2">
                            <label class="block text-xs uppercase mb-1 text-left">Phone</label>
                            <input type="phone" name="phone" v-model="form.phone" autocomplete="tel" required class="leading-loose shadow block px-2 py-1 w-full">
                        </div>
                    </div>

                    <div class="flex max-w-md mx-auto mb-8 items-center px-4 sm:px-0">
                        <div class="flex-grow mr-2">
                            <div class="flex items-center">
                                <input name="consent" type="checkbox" class="mr-2" required>
                                <p class="text-left ml-2">By checking you understand and accept that your data will be processed inline with our <a class="text-brand-blue" href="/privacy-policy/">privacy policy</a></p>
                            </div>
                        </div>
                        <div class="flex-shrink ml-2">
                            <button type="submit" :disabled="submitting" class="w-32 py-2 px-4 inline-block bg-green text-white rounded">
                                <span v-if="!submitting">Submit Quote Request</span>
                                <span v-if="submitting"></span>
                            </button>
                        </div>
                    </div>
                    <input type="hidden" name="boiler_type" v-model="form.boiler_type">
                    <input type="hidden" name="boiler_age" v-model="form.age">
                    <input type="hidden" name="dirty_water" v-model="form.dirty_water">
                    <input type="hidden" name="cold_spots" v-model="form.cold_spots">
                    <input type="hidden" name="flushed_before" v-model="form.flushed_before">
                    <input type="hidden" name="filter" v-model="form.filter">
                    <input type="hidden" name="tap" v-model="form.tap">
                    <input type="hidden" name="rad_count" v-model="form.rad_count">
                    <input type="hidden" name="_replyto" v-model="form.email">
                    <input type="hidden" name="subject" value="EcoflushUK Quote Enquiry">
                    <input type="hidden" name="_next" value="{{ "/thank-you/" | absolute_url }}" />
                </form>
            </div>
    </div>
</section>